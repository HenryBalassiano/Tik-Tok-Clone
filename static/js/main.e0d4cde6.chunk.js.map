{"version":3,"sources":["Video.js","App.js","reportWebVitals.js","index.js"],"names":["Video","source","useState","click","setClicked","count","setCount","videoRef","useRef","audioRef","playRef","ref","onScreen","rootMargin","isIntersecting","setIntersecting","useEffect","observer","IntersectionObserver","entry","current","observe","unobserve","useOnScreen","currentTime","play","style","display","id","src","alt","IconButton","onClick","console","log","fontSize","paused","pause","width","height","substring","type","preload","playsInline","slice","Swiper","use","Navigation","App","loading","setload","video","author","title","data","setData","loop","spaceBetween","direction","slidesPerView","speed","preloadImages","observeParents","watchSlidesVisibility","watchSlidesProgress","a","fetch","response","json","mediaData","children","i","length","media","secure_media","reddit_video","bitrate_kbps","push","err","fetchData","className","map","v","index","fallback_url","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e0d4cde6.chunk.js","sourcesContent":["import \"./App.css\";\r\nimport React, { useRef, useState, useEffect } from \"react\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport FavoriteBorderIcon from \"@material-ui/icons/FavoriteBorder\";\r\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\r\n\r\nfunction useOnScreen(ref, rootMargin = \"0px\") {\r\n  const [isIntersecting, setIntersecting] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(\r\n      ([entry]) => {\r\n        setIntersecting(entry.isIntersecting);\r\n      },\r\n      {\r\n        rootMargin,\r\n      }\r\n    );\r\n    if (ref.current) {\r\n      observer.observe(ref.current);\r\n    }\r\n    return () => {\r\n      observer.unobserve(ref.current);\r\n    };\r\n  }, []);\r\n\r\n  return isIntersecting;\r\n}\r\n\r\nfunction Video({ source }) {\r\n  const [play, setPlay] = useState(false);\r\n  const [click, setClicked] = useState(false);\r\n  const [count, setCount] = useState();\r\n  const videoRef = useRef(false);\r\n  const audioRef = useRef(false);\r\n  const playRef = useRef(false);\r\n  const ref = useRef();\r\n  const navSec = useRef(null);\r\n\r\n  const onScreen = useOnScreen(ref, \"100px\");\r\n\r\n  const clickFunc = () => {\r\n    if (click === false) {\r\n      setClicked(true);\r\n      setCount(1);\r\n    } else {\r\n      setClicked(false);\r\n      setCount(\"\");\r\n      console.log(click);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    if (onScreen === true) {\r\n      audioRef.current.currentTime = videoRef.current.currentTime;\r\n      videoRef.current.play();\r\n      audioRef.current.play();\r\n\r\n      playRef.current.style.display = \"none\";\r\n    }\r\n  });\r\n\r\n  const videoPlay = () => {\r\n    if (\r\n      videoRef.current.paused === false &&\r\n      audioRef.current.paused === false\r\n    ) {\r\n      videoRef.current.pause();\r\n      audioRef.current.pause();\r\n      playRef.current.style.display = \"block\";\r\n    } else {\r\n      videoRef.current.play();\r\n      audioRef.current.play();\r\n      playRef.current.style.display = \"none\";\r\n    }\r\n  };\r\n  return (\r\n    <div id=\"video-container\" ref={ref}>\r\n      <img ref={playRef} id=\"play-btn\" src=\"./play.png\" alt=\"play\" />\r\n\r\n      <h1 id=\"logo\"> F</h1>\r\n\r\n      <div id=\"ld\">\r\n        <IconButton id=\"icons\" onClick={clickFunc}>\r\n          {click ? (\r\n            <FavoriteIcon style={{ fontSize: \"40px\" }} />\r\n          ) : (\r\n            <FavoriteBorderIcon style={{ fontSize: \"40px\" }} />\r\n          )}\r\n        </IconButton>\r\n        <span id=\"like-count\">{count}</span>\r\n      </div>\r\n      {onScreen ? (\r\n        <video\r\n          ref={videoRef}\r\n          onClick={videoPlay}\r\n          width=\"450\"\r\n          height=\"900\"\r\n          src={source.substring(0, 32) + \"DASH_480.mp4?source=fallback\"}\r\n          type=\"video/mp4\"\r\n          preload=\"auto\"\r\n          playsInline\r\n        />\r\n      ) : (\r\n        <div>Loading...</div>\r\n      )}\r\n      {onScreen ? (\r\n        <audio ref={audioRef}>\r\n          <source src={source && source.slice(0, 37) + \"audio.mp4\"} />\r\n        </audio>\r\n      ) : (\r\n        console.log(\"audio element is loading\")\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nexport default Video;\r\n","import { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport Video from \"./Video\";\nimport Swiper, { Navigation } from \"swiper\";\nimport \"swiper/swiper-bundle.css\";\nSwiper.use([Navigation]);\n\nfunction App() {\n  const [loading, setload] = useState(null);\n  const [data, setData] = useState([\n    {\n      video: [],\n      author: [],\n      title: [],\n    },\n  ]);\n\n  useEffect(() => {\n    const mySwiper = new Swiper(\".swiper-container\", {\n      loop: true,\n      spaceBetween: 830,\n      direction: \"vertical\",\n      slidesPerView: 1,\n      speed: 100,\n      preloadImages: true,\n      observer: true,\n      observeParents: true,\n      watchSlidesVisibility: true,\n      watchSlidesProgress: true,\n    });\n  }, []);\n\n  useEffect(() => {\n    async function fetchData() {\n      const response = await fetch(\n        \"https://www.reddit.com/r/tiktokcringe/.json?limit=100\"\n      );\n\n      const data = await response.json();\n      const video = [];\n      const author = [];\n      const title = [];\n      const mediaData = data.data.children;\n      try {\n        for (var i = 7; i < mediaData.length; i++) {\n          if (\n            mediaData[i].data.media !== null &&\n            mediaData[i].data.secure_media.reddit_video.bitrate_kbps < 2900\n          )\n            video.push(mediaData[i].data.media);\n          author.push(mediaData[i].data.author);\n          title.push(mediaData[i].data.title);\n        }\n        setData([\n          {\n            video: video,\n            author: author,\n            title: title,\n          },\n        ]);\n        setload(true);\n      } catch (err) {\n        console.log(err);\n      }\n    }\n    fetchData();\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <div id=\"video-scroll\">\n        {data.map(({ video, author, title }) => {\n          return (\n            <div className=\"swiper-container\">\n              <div className=\"swiper-wrapper\">\n                {video.map((v, index) => (\n                  <div className=\"swiper-slide\">\n                    {loading ? (\n                      <Video\n                        className=\"lazy\"\n                        source={v.reddit_video.fallback_url}\n                      />\n                    ) : (\n                      <p>Loading...</p>\n                    )}\n                    <p id=\"author\">@{author[index]}</p>\n                    <p id=\"title\">\n                      {title[index].length < 30\n                        ? title[index]\n                        : title[index].substring(0, 30) + \"...\"}{\" \"}\n                    </p>\n                  </div>\n                ))}\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}