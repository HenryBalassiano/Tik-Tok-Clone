{"version":3,"sources":["Video.js","App.js","reportWebVitals.js","index.js"],"names":["Video","source","useState","click","setClicked","count","setCount","canPlays","setCanPlay","console","log","videoRef","useRef","audioRef","playRef","ref","debouncedSearchTerm","value","delay","debouncedValue","setDebouncedValue","useEffect","handler","setTimeout","clearTimeout","useDebounce","isIntersecting","setIntersecting","observer","IntersectionObserver","entry","current","observe","unobserve","useOnScreen","currentTime","play","style","display","id","src","alt","IconButton","onClick","fontSize","paused","pause","width","height","substring","type","preload","onCanPlayThrough","e","playsInline","slice","Swiper","use","Navigation","App","loading","setload","video","author","title","data","setData","loop","spaceBetween","direction","slidesPerView","speed","preloadImages","observeParents","watchSlidesVisibility","watchSlidesProgress","a","fetch","response","json","mediaData","children","i","length","media","secure_media","reddit_video","bitrate_kbps","duration","push","err","fetchData","className","map","v","index","fallback_url","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.41a57bd5.chunk.js","sourcesContent":["import \"./App.css\";\r\nimport React, { useRef, useState, useEffect } from \"react\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport FavoriteBorderIcon from \"@material-ui/icons/FavoriteBorder\";\r\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\r\n\r\nfunction useOnScreen(ref) {\r\n  const [isIntersecting, setIntersecting] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(([entry]) => {\r\n      setIntersecting(entry.isIntersecting);\r\n    });\r\n    if (ref.current) {\r\n      observer.observe(ref.current);\r\n    }\r\n    return () => {\r\n      observer.unobserve(ref.current);\r\n    };\r\n  }, []);\r\n\r\n  return isIntersecting;\r\n}\r\nfunction useDebounce(value, delay) {\r\n  const [debouncedValue, setDebouncedValue] = useState(value);\r\n\r\n  useEffect(() => {\r\n    const handler = setTimeout(() => {\r\n      setDebouncedValue(value);\r\n    }, delay);\r\n\r\n    return () => {\r\n      clearTimeout(handler);\r\n    };\r\n  }, [value, delay]);\r\n\r\n  return debouncedValue;\r\n}\r\n\r\nfunction Video({ source }) {\r\n  const [play, setPlay] = useState(false);\r\n  const [click, setClicked] = useState(false);\r\n  const [count, setCount] = useState();\r\n  const [canPlays, setCanPlay] = useState(false);\r\n  console.log(canPlays);\r\n  const videoRef = useRef();\r\n  const audioRef = useRef(false);\r\n  const playRef = useRef(false);\r\n  const ref = useRef();\r\n  const navSec = useRef(null);\r\n\r\n  const onScreen = useOnScreen(ref);\r\n  const debouncedSearchTerm = useDebounce(onScreen, 800);\r\n\r\n  const clickFunc = () => {\r\n    if (click === false) {\r\n      setClicked(true);\r\n      setCount(1);\r\n    } else {\r\n      setClicked(false);\r\n      setCount(\"\");\r\n      console.log(click);\r\n    }\r\n  };\r\n  const canPlay = (e) => {\r\n    setCanPlay(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (debouncedSearchTerm === true && canPlays === true) {\r\n      audioRef.current.currentTime = videoRef.current.currentTime;\r\n      videoRef.current.play();\r\n      audioRef.current.play();\r\n\r\n      playRef.current.style.display = \"none\";\r\n    }\r\n  });\r\n\r\n  const videoPlay = () => {\r\n    if (\r\n      videoRef.current.paused === false &&\r\n      audioRef.current.paused === false\r\n    ) {\r\n      videoRef.current.pause();\r\n      audioRef.current.pause();\r\n      playRef.current.style.display = \"block\";\r\n    } else {\r\n      videoRef.current.play();\r\n      audioRef.current.play();\r\n      playRef.current.style.display = \"none\";\r\n    }\r\n  };\r\n  return (\r\n    <div id=\"video-container\" ref={ref}>\r\n      <img ref={playRef} id=\"play-btn\" src=\"./play.png\" alt=\"play\" />\r\n\r\n      <h1 id=\"logo\"> F</h1>\r\n\r\n      <div id=\"ld\">\r\n        <IconButton id=\"icons\" onClick={clickFunc}>\r\n          {click ? (\r\n            <FavoriteIcon style={{ fontSize: \"40px\" }} />\r\n          ) : (\r\n            <FavoriteBorderIcon style={{ fontSize: \"40px\" }} />\r\n          )}\r\n        </IconButton>\r\n        <span id=\"like-count\">{count}</span>\r\n      </div>\r\n      {debouncedSearchTerm ? (\r\n        <video\r\n          ref={videoRef}\r\n          onClick={videoPlay}\r\n          width=\"450\"\r\n          height=\"900\"\r\n          src={source.substring(0, 32) + \"DASH_480.mp4?source=fallback\"}\r\n          type=\"video/mp4\"\r\n          preload=\"auto\"\r\n          onCanPlayThrough={canPlay}\r\n          playsInline\r\n        />\r\n      ) : (\r\n        <div>Loading...</div>\r\n      )}\r\n      {debouncedSearchTerm ? (\r\n        <audio ref={audioRef}>\r\n          <source src={source && source.slice(0, 37) + \"audio.mp4\"} />\r\n        </audio>\r\n      ) : (\r\n        console.log(\"audio element is loading\")\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nexport default Video;\r\n","import { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport Video from \"./Video\";\nimport Swiper, { Navigation } from \"swiper\";\nimport \"swiper/swiper-bundle.css\";\nSwiper.use([Navigation]);\n\nfunction App() {\n  const [loading, setload] = useState(null);\n  const [data, setData] = useState([\n    {\n      video: [],\n      author: [],\n      title: [],\n    },\n  ]);\n\n  useEffect(() => {\n    const mySwiper = new Swiper(\".swiper-container\", {\n      loop: true,\n      spaceBetween: 830,\n      direction: \"vertical\",\n      slidesPerView: 1,\n      speed: 100,\n      preloadImages: true,\n      observer: true,\n      observeParents: true,\n      watchSlidesVisibility: true,\n      watchSlidesProgress: true,\n    });\n  }, []);\n\n  useEffect(() => {\n    async function fetchData() {\n      const response = await fetch(\n        \"https://www.reddit.com/r/tiktokcringe/.json?limit=100\"\n      );\n\n      const data = await response.json();\n      const video = [];\n      const author = [];\n      const title = [];\n      const mediaData = data.data.children;\n      try {\n        for (var i = 7; i < mediaData.length; i++) {\n          if (\n            mediaData[i].data.media !== null &&\n            mediaData[i].data.secure_media.reddit_video.bitrate_kbps < 2500 &&\n            mediaData[i].data.secure_media.reddit_video.duration < 45\n          ) {\n            video.push(mediaData[i].data.media);\n            author.push(mediaData[i].data.author);\n            title.push(mediaData[i].data.title);\n          }\n        }\n        setData([\n          {\n            video: video,\n            author: author,\n            title: title,\n          },\n        ]);\n        setload(true);\n      } catch (err) {\n        console.log(err);\n      }\n    }\n    fetchData();\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <div id=\"video-scroll\">\n        {data.map(({ video, author, title }) => {\n          return (\n            <div className=\"swiper-container\">\n              <div className=\"swiper-wrapper\">\n                {video.map((v, index) => (\n                  <div className=\"swiper-slide\">\n                    {loading ? (\n                      <Video\n                        className=\"lazy\"\n                        source={v.reddit_video.fallback_url}\n                      />\n                    ) : (\n                      <p>Loading...</p>\n                    )}\n                    <p id=\"author\">@{author[index]}</p>\n                    <p id=\"title\">\n                      {title[index].length < 30\n                        ? title[index]\n                        : title[index].substring(0, 30) + \"...\"}{\" \"}\n                    </p>\n                  </div>\n                ))}\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}